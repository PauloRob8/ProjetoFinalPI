{% extends 'base.html' %}
{% block body %}
<style>
    .button {
        display: inline-block;
        padding: 15px 25px;
        font-size: 15px;
        width: 100%;
        cursor: pointer;
        text-align: center;
        text-decoration: none;
        outline: none;
        color: #fff;
        background-color: #000000;
        border: none;
        border-radius: 15px;
        box-shadow: 0 9px #999;
    }
        .button:hover {background-color: #242424}
        .button:active {
        background-color: #383838;
        box-shadow: 0 5px #666;
        transform: translateY(4px);
    }

    .column {
		float: left;
		padding: 10px;
	}

	.column.side {
		height: 100%;
		width: 25%;
	}

	.column.middle {
		height: 100vh;
		width: 50%;
	}

	.row:after {
		content: "";
		display: table;
		clear: both;
	}

	.columnF {
		float: left;
		padding: 10px;
		height: 100%;
	}

	.columnF.side {
		width: 25%;
	}

	.columnF.middle {
		width: 50%;
	}

	.columnC {
		float: top;
		padding: 10px;
		height: 100%;
	}

	.columnC.side {
		width: 100%;
	}

</style>

<div class="row">
    <div class="column side" style="background-color:#aaa;">
        <div class="columnC side">
            <div>
                <h6>Meus amigos</h6>
                {% with total_amigos=perfil_logado.amigos.count %}
                    {% if total_amigos %}
                        <ul class="list-group">
                            {% for amigo in perfil_logado.amigos.all %}
                                <li class = "list-inline-item">
                                    <a href = "{% url 'exibir' amigo.id %}">{{amigo.nome}}</a>
                                </li> 
                            {% endfor %}
                        </ul>
                    {% else %}
                        
                            <ul class = "list-inline">
                                <li class = "list-inline-item">
                                    <p>Não possui amigos</a>
                                </li>
                            </ul>
                    
                    {% endif %}
                {% endwith %}
            </div>
        </div>
        
        <div class="columnC side">
            <div>
                <h6>Convites Enviados</h6>
                
                        <ul class="list-group">
                            {% for convite in convites_espera %}
                                <li class = "list-inline-item">
                                    <a href = "{% url 'exibir' convite.convidado.id %}">{{convite.convidado.nome}}</a>
                                </li> 
                            {% endfor %}
                        </ul>
                    
            </div>
        </div>
    
    </div>

    <div class="column middle" style="background-color:#bbb;">
        <div>
            <a href="{%url 'criar_post' %}" class="button">Nova Postagem</a>
       </div>
    </div>
    
    <div class="column side" style="background-color:#aaa;">
        <div class="col-lg-12"> 		    
            <div class="panel panel-default">
                {% with total=perfil_logado.convites_recebidos.count %}
                    {% if total %}
                        <div class="panel-heading">
                            <strong> {{ total }}  
                            Convite{{ total|pluralize }} aguardando aprovação</strong>
                        </div>
                        <ul class="list-group">
                            <div>
                                {% for convite in perfil_logado.convites_recebidos.all %}
                                        
                                                <div class="row">
                                                    <div class="columnF middle" style="background-color:#aaa;">
                                                        <a href = "{% url 'exibir' convite.solicitante.id %}">
                                                            {{convite.solicitante.nome}}
                                                        </a>
                                                    </div>

                                                    <div class="columnF side" style="background-color:#aaa;">
                                                        <a href = "{% url 'aceitar' convite.id %}">aceitar</a>
                                                    </div>
                                                    
                                                    <div class="columnF side" style="background-color:#aaa;">
                                                        <a href = "{% url 'recusar' convite.id %}">recusar</a>
                                                    </div>

                                                </div>
                                            
                                {% endfor %}
                            </div>
                        </ul>
                    {% else %}
                        <div class="panel-body">
                            Não há convites
                        </div>    
                    {% endif %}
                {% endwith %}    
            </div>    
        </div>
    </div>
</div>
{% endblock %}